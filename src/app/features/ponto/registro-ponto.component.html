<div class="min-h-screen flex items-center justify-center bg-gray-100 px-4 py-8">
  <div class="w-full max-w-lg p-6 bg-white rounded-2xl shadow-xl relative">
    <div class="flex items-center justify-between mb-6">
      <h2 class="text-2xl font-bold text-gray-800 flex items-center gap-2">
        <span>🕒</span> Registro de Ponto
      </h2>
      <span class="px-3 py-1 text-xs font-semibold bg-green-100 text-green-700 rounded-full">Online</span>
    </div>

    <form [formGroup]="form" (ngSubmit)="registrarPonto()" class="space-y-6">
      <!-- CPF -->
      <div>
        <label class="block text-sm font-semibold text-gray-700 mb-1">CPF</label>
        <input type="text"
               formControlName="cpf"
               placeholder="000.000.000-00"
               mask="000.000.000-00"
               class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm" />
      </div>

      <!-- Câmera ou Foto Capturada -->
      <div class="relative border-2 border-dashed border-gray-300 rounded-lg overflow-hidden shadow-inner h-64 bg-black">
        <video
          *ngIf="!fotoCapturada()"
          id="video"
          autoplay
          playsinline
          muted
          class="absolute inset-0 w-full h-full object-cover z-10 rounded">
        </video>

        <img
          *ngIf="fotoCapturada()"
          [src]="imagemCapturada"
          class="absolute inset-0 w-full h-full object-cover z-10 rounded" />

        <div class="absolute inset-0 pointer-events-none border-4 border-blue-400 opacity-10 rounded z-20"></div>
      </div>

      <!-- Botões -->
      <div class="flex gap-4">
        <button type="button" (click)="tirarFoto()" *ngIf="!fotoCapturada()"
          class="w-1/2 px-4 py-2 bg-blue-100 hover:bg-blue-200 text-blue-800 font-semibold rounded-lg shadow cursor-pointer">
          📸 Tirar Foto
        </button>

        <button type="button" (click)="repetirFoto()" *ngIf="fotoCapturada()"
          class="w-1/2 px-4 py-2 bg-yellow-100 hover:bg-yellow-200 text-yellow-800 font-semibold rounded-lg shadow cursor-pointer">
          🔁 Repetir Foto
        </button>

        <button type="submit" [disabled]="!form.valid || !fotoCapturada()"
          class="w-1/2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg flex items-center justify-center gap-2 shadow disabled:opacity-50 cursor-pointer">
          🕒 Registrar
        </button>
      </div>
    </form>
  </div>
</div>
